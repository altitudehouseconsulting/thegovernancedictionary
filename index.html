<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Aviation Governance Dictionary</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <header>
    <img src="logo.png" alt="Altitude House Consulting Logo" class="logo" />
    <h1>Aviation Governance Dictionary</h1>
  </header>

  <main>
    <input type="text" id="searchInput" placeholder="Search governance area, framework, or example..." />
    <table id="governanceTable">
      <thead>
        <tr>
          <th>Governance Area</th>
          <th>Framework</th>
          <th>Function</th>
          <th>Example</th>
          <th>Consequence</th>
        </tr>
      </thead>
      <tbody></tbody>
    </table>
  </main>

  <footer>
    <p class="disclaimer">
      <strong>Disclaimer:</strong> This tool is intended for educational and awareness purposes only. It does not constitute legal advice or regulatory guidance. Users are responsible for verifying all requirements and updates with their appropriate aviation authority (FAA, EASA, ICAO, etc.).
    </p>
  </footer>

  <script>
    async function loadGovernanceData() {
      const response = await fetch('aviation_governance_1500.json');
      const data = await response.json();
      const tbody = document.querySelector('#governanceTable tbody');
      const searchInput = document.getElementById('searchInput');

      function renderRows(filter = '') {
        tbody.innerHTML = '';
        let filtered = data.filter(record =>
          Object.values(record).some(value =>
            value.toLowerCase().includes(filter.toLowerCase())
          )
        );
        filtered.forEach(record => {
          const row = document.createElement('tr');
          row.innerHTML = `
            <td>${record.governance_area}</td>
            <td>${record.framework}</td>
            <td>${record.function}</td>
            <td>${record.example}</td>
            <td>${record.consequence}</td>
          `;
          tbody.appendChild(row);
        });
      }

      renderRows();
      searchInput.addEventListener('input', e => renderRows(e.target.value));
    }

    loadGovernanceData();
  </script>
</body>
</html>
